<div class="table-container p-4 rounded-2xl shadow-md bg-white">
  <div class="overflow-x-auto">
    <table mat-table [dataSource]="dataSource" class="border-collapse">

      <!-- Columnas dinÃ¡micas -->
      @for (col of columnsConfig; track col.key) {
        <ng-container [matColumnDef]="col.key">
          <th mat-header-cell *matHeaderCellDef class="text-left">
            {{ col.label }}
          </th>

          <td mat-cell *matCellDef="let element"
            [class.text-right]="col.align === 'right'"
            [class.text-center]="col.align === 'center'">
            @switch (col.type) {
              @case ('relation') {
                {{ getRelationValue(element[col.key], col.path) ?? col.fallback ?? '' }}
              }
              @case ('money') {
               {{ element[col.key] | currency:'$ ':'symbol':'1.2-2' }}

              }
              @case ('date') {
                {{ element[col.key] | date:"d MMM y" : 'es-MX' }}
              }
              @default {
                {{ element[col.key] ?? col.fallback ?? '' }}
              }
            }
          </td>
        </ng-container>
      }

      <!-- Columna de acciones -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="text-center">Acciones</th>
        <td mat-cell *matCellDef="let element" class="c-actions-cells">
          <div>
            <button mat-icon-button class="edit-btn" (click)="onEdit(element)">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button class="delete-btn" (click)="onDelete(element)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <!-- Filas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        class="hover:bg-gray-100 transition-all duration-200"
      ></tr>
    </table>
  </div>
</div>